步骤一：理解线程池的创建和初始化过程。
用户调用thrdpool_create，内部会初始化任务队列，创建指定数量的线程，每个线程执行__thrdpool_worker函数，不断从任务队列获取任务并执行。
步骤二：任务提交。
通过thrdpool_post函数将任务（函数指针和参数）封装成task_t结构，添加到任务队列。任务队列使用自旋锁保证线程安全，添加任务后通过条件变量通知工作线程。
步骤三：线程池的终止。
调用thrdpool_terminate设置退出标志，并通知所有线程停止等待任务，然后等待所有线程结束。
步骤四：等待完成。
thrdpool_waitdone会等待所有线程结束，并销毁任务队列和释放资源。